[S] - ingest / ingest aggregator monitoring and recovery
[S] - rtsv2_rtmp_ingest_handler currently has hardcoded salt / challenge - to be held in gen_server once LLNW API is finalised
[S] - handle multiple ingest aggregators
[ ] - test4 - IngestAggregator with a name clash - 2 things running, should be 1
[S] - test6 - Multiple stream-relay with a name clash - 2 things running, should be 1
[ ] - add stream_id domain to logs that are pre-stream
[A] - Pinto Either stuff
[ ] - check serf errors from serf_api correctly map to whatever we've said in purs - get_coordinate in particular
[ ] - intraPoP load messages
[ ] - transPoP load messages
[ ] - Lots of gen server calls are not checking return values.  Let It Crash
[ ] - relay exit management
[ ] - onFi passthrough from RTMP
[ ] - audio only - needs change to StreamDetails to indicate no video, since aggregator is currently waiting for iframe to sync multiple streams
[ ] - Mediavault API integration
[ ] - HLS Egest from Aggregator
[ ] - RTMP Egest - from edge
[ ] - Canary / startup / migrating clients away etc
[ ] - review timeouts in tests
[ ] - egest / client merging when load drops
[ ] - relay merging when multiple instances start
[ ] - what does /api/state return for aggregators when both primary and backup preset - suspect it needs role in there...

[ ] - Shared objects

[.] - Erl.Cowboy.Req.binding - returns Maybe a - it doesn't know what a is.  Should be Maybe Foreign
[.] - Clean up / rewrite gproc.purs - is it a direct mapping, or do we want our own API

[x] - derive regularity of liveness checks from re-broadcast interval
[x] - TransPoP clock by streamId and server
[x] - RTMP metadata
[x] - Ephemeral asset maps - and retransmission by intrapop based on timers.  Sendafter with the message....
[x] - Ensure everyone agrees on the transPoPLeader
[x] - test methods to allow multple body checks
[x] - Relay chains for egest
[x] - Relay chains for other relays
[x] - Send liveness messages far more rarely?  Just for ingestAggregator?
[x] - Consider only having intrapop messages for start / stop and VM liveness - with a VM liveness ref so restarts are detected
[x] - Use monitors within a VM and have IntraPoP take care of sending all messages on timers
[x] - Bus should have its own set of messages
[x] - workflow metrics to prometheus
[x] - ffmpeg visual for demo
[x] - ingest instance stop need to remove instance from aggregator - just need test
[x] - if ingest aggregator exits, then ingest instances need to reallocate a new aggregator
[x] - move ingest-instance aggregator start logic out of init and retry failure on timer
[x] - metrics (rrt) for trans-pop neigbours
[x] - Stetson isConflict
[x] - WAN definitition / neighbours file
[x] - resurrect the WAN topology discovery code
[x] - combine rtt times with WAN topology
[x] - SpudGun.purs is inconsistent in Maybe vs Either in results
[x] - Newtypes for key variables
[x] - intra -> trans pop updates via function calls
[x] - handleInfo in Pinto to support CastResult
[x] - stops on clients
[x] - edge agent needs to tick
[x] - remove /poc from API
[x] - review gproc registration for top level supervisors and gen servers (i.e dont use it!)
[x] - config in ingestAggregatorAgent - currently timer hardcoded - move all config records to config.purs
[x] - serf api should take left and right constructors
[x] - can msgPack take arbitrary binaries
[x] - test1 - hit edge / start ingest / hit edge again
[x] - elect trans pop leader
[x] - test2 - hit edge / start ingest in different pop / hit edge again
[x] - make intrapop rejoin if not enough members
[x] - make transpop rejoin if not enough members
[x] - /alive should include healthcheck - indicate if joined to enough peers
[x] - separate intra-pop serf from trans-pop serf messages
[x] - currentTransPoP appears to be wrong sometimes...
[x] - transPoP leave - ensure serf restarts (systemd) and maybe assert on each tick that still not a member
[x] - reconnect stream if we get a stream-failed (intra and trans) - will need to call serf.members
