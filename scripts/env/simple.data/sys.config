%% -*- mode:erlang;tab-width:2;erlang-indent-level:2;indent-tabs-mode:nil -*-

[ "release-files/rtsv2_core.config",
  {rtsv2,
   [ {overrides, [ {transPoPConfig, #{ leaderTimeoutMs => 1000
                                     , leaderAnnounceMs => 500
                                     , rttRefreshMs => 5000
                                     }}
                 , {popDefinitionConfig, #{ directory => "scripts/env/simple.data/"
                                          , popDefinitionFile => "popDefinition.json"
                                          , wanDefinitionFile => "wanDefinition.json"
                                          }}
                 ]}
   ]}

, "release-files/id3as_common_core.config"

, {kernel,
   [ {logger_level, debug}
   , {logger, [
               %% Console
               { handler, default, logger_std_h
               , #{ formatter => { logger_formatter
                                 , #{ single_line => true
                                    , time_offset => "Z"
                                    , chars_limit => 32768
                                    , depth => 40
                                    , template => [time," ", level,": ", pid, " ", msg, ": ", misc, "\n"]
                                    }}
                  , filters => [ {domain_filter, {fun logger_filters:domain/2, {stop, sub, ['otp', 'sasl']}}}
                               , {domain_filter, {fun logger_filters:domain/2, {stop, sub, ['audit']}}}
                               ]
                  }
               }
              ]}
   ]}
].
